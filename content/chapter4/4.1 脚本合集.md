# 4.1 组件合集

#### 概念：

1. 组件-参数：指组件在绑定实体时就已经设定好的数据
2. 组件-传入参数：指组件在运行过程中从UI界面或其他游戏内渠道获得的输入性的数据
3. 组件-功能：指组件在运行过程中所要实现的某些功能或者组件代码中的某些方法



#### 组件：

- 【可采集】

  - data：

    1. **可采集产物&出产概率&单次出产数量区间** | 指单次采集可能获得的所有出产物的概率以及出产数量区间
    2. **标准采集时间** | 指单次采集所耗时间，所有关于挖掘的增益都以此作为基准
    
  - action：

    动作描述：（设想中的采集是魔兽人族采金矿，人进去出来就有东西了）

    1. 通过鼠标右键选定 绑定了【采集】的实体，单位（指玩家或AI）自动移动并寻找到【门】进行碰撞（门绑定【可穿越】，碰撞触发后单位消失），视为开始采集。（此处需要有一个进门后触发开始采集的设置，两个组件之间的连接）
    2. 开始采集即开始计时，计时满一个标准采集时间后，系统在采集过程中根据产物的种类概率数量生成对应数量的物品，并放入单位背包
    3. 采集结束，系统操控单位再次与【门】发生碰撞，触发单位穿越门，重新出现在地图上。

- 【可穿越】
  - data：
    1. **穿越目标** | 指穿越过实体后的目的 | 场景切换、穿越单位消失/出现
    2. **触发方式** | 指通过什么方式触发穿越 | 碰撞触发、按键触发
    3. **触发条件** | 拥有指定属性或指定物品的单位才可触发，不填则为无触发条件 | 比如只能被拥有背包技能的单位触发
    4. **绑定触发按键** | 指定哪个按键会触发穿越
    
    示例描述：一个【门】的实体绑定了【可穿越】，参数设置为（穿越单位消失/出现，碰撞触发），当一个单位与门实体发生物理碰撞时，触发组件参数里的 “穿越单位消失”，组件内部逻辑应需要记录是哪个单位首次触发了消失，当这个单位二次触发时，应视为【单位消失出现】

- 【可交互】

  - data：

    - **交互类型** | 指触发之后以何种形式与玩家交互 |【面板】【对话框】【事件】

    - **触发类型** | 指玩家通过何种操作可以触发交互 | 【按键】【区域】【碰撞】

      - 触发区域范围 | 指触发类型为区域的在靠近绑定实体多少范围内触发 | 数值

    - **触发提示范围** | 指玩家在靠近绑定实体多少范围内将被提示可交互，当指为0时视为不提示 | 数值

    - **绑定面板实体** | 指触发面板交互时，使用哪一套UI模板控件

    - **面板样式：**

      [![BWFaRI.png](https://s1.ax1x.com/2020/11/05/BWFaRI.png)](https://imgchr.com/i/BWFaRI)

- 【制造器】

  - data：

    - 图纸集 | 指该实体可以制造哪些种类的图纸

  - UI模板控件：

    - [![BWFdzt.png](https://s1.ax1x.com/2020/11/05/BWFdzt.png)](https://imgchr.com/i/BWFdzt)

      包含

      - 带滚动条的图纸列表，带成品展示，可供选择指定的图纸
      - 选中图纸的成品展示图
      - 制造成品所需材料的列表，单个材料包含所需数量和持有数量，持有数量为制造发起者背包内所拥有的该材料数量。当某一种材料数量不足时，应给予提示。
      - 可制作成品数量选择。当选中某一具体图纸时，系统会根据背包内所含材料的数量，给出最大可制造数量，制造发起者可以在1到最大可制造数量这个范围内调整制作数量
      - 制造按键。点击后，系统将根据所选择的图纸和制造数量制作出物品放入制作发起者的背包，并扣除相应数量的材料