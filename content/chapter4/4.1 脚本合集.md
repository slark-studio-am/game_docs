# 4.1 组件合集

#### 注：

1. 以下组件内容中包含操作的项目均按以玩家为主的视角

#### 组件：

- 【可采集】

  - data：

    1. **可采集产物&出产概率&单次出产数量区间** | 指单次采集可能获得的所有出产物的概率以及出产数量区间
    2. **标准采集时间** | 指单次采集所耗时间，所有关于挖掘的增益都以此作为基准
    
  - action：

    动作描述：（设想中的采集是魔兽人族采金矿，人进去出来就有东西了）

    1. 通过鼠标右键选定 绑定了【采集】的实体，单位（指玩家或AI）自动移动并寻找到【门】进行碰撞（门绑定【可穿越】，碰撞触发后单位消失），视为开始采集。（此处需要有一个进门后触发开始采集的设置，两个组件之间的连接）
    2. 开始采集即开始计时，计时满一个标准采集时间后，系统在采集过程中根据产物的种类概率数量生成对应数量的物品，并放入单位背包
    3. 采集结束，系统操控单位再次与【门】发生碰撞，触发单位穿越门，重新出现在地图上。




- 【可穿越】
  - data：
    1. **穿越目标** | 指穿越过实体后的目的 | 场景切换、穿越单位消失/出现
    2. **触发方式** | 指通过什么方式触发穿越 | 碰撞触发、按键触发
    3. **触发条件** | 拥有指定属性或指定物品的单位才可触发，不填则为无触发条件 | 比如只能被拥有背包技能的单位触发
    4. **绑定触发按键** | 指定哪个按键会触发穿越
    
    示例描述：一个【门】的实体绑定了【可穿越】，参数设置为（穿越单位消失/出现，碰撞触发），当一个单位与门实体发生物理碰撞时，触发组件参数里的 “穿越单位消失”，组件内部逻辑应需要记录是哪个单位首次触发了消失，当这个单位二次触发时，应视为【单位消失出现】




- 【可交互】

  - data：

    - **交互类型** | 指触发之后以何种形式与玩家交互 |【面板】【对话框】【事件】

    - **触发类型** | 指玩家通过何种操作可以触发交互 | 【按键】【区域】【碰撞】

      - 触发区域范围 | 指触发类型为区域的在靠近绑定实体多少范围内触发 | 数值
    - 按键触发方式全局统一指定某个快捷键作为触发按键，以及指定一个范围，当处于这个范围内且按下指定快捷键才能触发交互
    
  - **触发提示范围** | 指玩家在靠近绑定实体多少范围内将被提示可交互，当指为0时视为不提示 | 数值
    
  - **绑定面板实体** | 指触发面板交互时，使用哪一套也绑定在同一实体身上的组件UI模板控件，此组件可多选
    
  - **面板样式：**
    
      [![BhU0C4.png](https://s1.ax1x.com/2020/11/06/BhU0C4.png)](https://imgchr.com/i/BhU0C4)
      
      - 当绑定的实体拥有不止一套UI模板控件时，面板的右侧将出现标签选择，方便在不同的面板中切换




- 【制造器】

  - data：

    - 图纸集 | 指该实体可以制造哪些种类的图纸

  - UI模板控件：

    - [![BWFdzt.png](https://s1.ax1x.com/2020/11/05/BWFdzt.png)](https://imgchr.com/i/BWFdzt)

      包含

      - 带滚动条的图纸列表，带成品展示，可供选择指定的图纸
      
      - 选中图纸的成品展示图
      
      - 制造成品所需材料的列表，单个材料包含所需数量和持有数量，持有数量为制造发起者背包内所拥有的该材料数量。当某一种材料数量不足时，应给予提示。
      
      - 可制作成品数量选择。当选中某一具体图纸时，系统会根据背包内所含材料的数量，给出最大可制造数量，制造发起者可以在1到最大可制造数量这个范围内调整制作数量
      
      - 制造按键。点击后，系统将根据所选择的图纸和制造数量制作出物品放入制作发起者的背包，并扣除相应数量的材料
      
        

- 【存储】

  - data： 

    - 最大储量 | 指有多少储存空间
    - 存储类型 | 指可以存放金存储空间的物品类型，如无限制则不填

  - action：

    - 动作描述：

      当存储的ui面板被触发时，触发者的背包也被一并展示出来，存储面板在画面左侧，触发者背包在画面右侧。

      触发者可以通过点击鼠标右键将背包中的物品转移到储存格中，也可以将储存格中的物品转移到自己的背包中

      当移动的物品数量>1时，会弹出选择物品数量的子窗口。也可以使用鼠标左键+shift组合键使全部数量的物品转移

      

  - UI模板控件

    [![BhU0C4.png](https://s1.ax1x.com/2020/11/06/BhU0C4.png)](https://imgchr.com/i/BhU0C4)

    包含

    - 根据面板的长宽，在固定每小格空间的长宽且预留其他控件位置的情况下，可规整摆放下最多的小格。比如示意图中的7X4个小格
    - 物品类型的分类标签控件，根据选择的标签，只展示出对应分类的物品
    - 整理按键，根据一定的规则将存储空间内的所有物品合理摆放
    - 翻页控件，根据单页小格数和数据参数中的最大储量，计算出页数



- 【是一栋建筑】
  - data：
    - 提供人口



- 【可建造的】

  - data：

    - 建筑图纸列表 | 指可以建造哪些建筑

      

- 【可升级的】

- 【简易商店】

- 【交易所】

- 