# 4.游戏脚本





草稿暂存



### 制造器

- data：

  - 图纸集 | 指该实体可以制造哪些种类的图纸

- UI模板控件：

  - [![BWFdzt.png](https://s1.ax1x.com/2020/11/05/BWFdzt.png)](https://imgchr.com/i/BWFdzt)

    包含

    - 带滚动条的图纸列表，带成品展示，可供选择指定的图纸

    - 选中图纸的成品展示图

    - 制造成品所需材料的列表，单个材料包含所需数量和持有数量，持有数量为制造发起者背包内所拥有的该材料数量。当某一种材料数量不足时，应给予提示

    - 可制作成品数量选择。当选中某一具体图纸时，系统会根据背包内所含材料的数量，给出最大可制造数量，制造发起者可以在1到最大可制造数量这个范围内调整制作数量

    - 制造按键。点击后，系统将根据所选择的图纸和制造数量制作出物品放入制作发起者的背包，并扣除相应数量的材料

      


- 【存储】

  - data： 

    - 最大储量 | 指有多少储存空间
    - 存储类型 | 指可以存放金存储空间的物品类型，如无限制则不填

  - action：

    - 动作描述：

      当存储的ui面板被触发时，触发者的背包也被一并展示出来，存储面板在画面左侧，触发者背包在画面右侧。

      触发者可以通过点击鼠标右键将背包中的物品转移到储存格中，也可以将储存格中的物品转移到自己的背包中

      当移动的物品数量>1时，会弹出选择物品数量的子窗口。也可以使用鼠标左键+shift组合键使全部数量的物品转移

      

  - UI模板控件

    [![BhU0C4.png](https://s1.ax1x.com/2020/11/06/BhU0C4.png)](https://imgchr.com/i/BhU0C4)

    包含

    - 根据面板的长宽，在固定每小格空间的长宽且预留其他控件位置的情况下，可规整摆放下最多的小格。比如示意图中的7X4个小格
    - 物品类型的分类标签控件，根据选择的标签，只展示出对应分类的物品
    - 整理按键，根据一定的规则将存储空间内的所有物品合理摆放
    - 翻页控件，根据单页小格数和数据参数中的最大储量，计算出页数

