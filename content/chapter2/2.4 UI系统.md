# UI系统

#### 1.顶部

#### 2.右侧栏-市场

简介：右侧栏-市场，常驻界面右侧，实时显示市场行情信息和重要事件的发生，让玩家更好的掌握市场变化，方便及时或提前做出相应的布局或调整。

![w2AHnH.png](https://s1.ax1x.com/2020/09/16/w2AHnH.png)

- **市场行情（用于实时展示当前世纪内所有商品的价格信息和库存量）**：
  - 图表解释
    - 商品：显示商品名
    - 买入价（排序按键）：显示该商品的实时买入价，以及该商品上一次发生交易后的价格的变动量，用绿色表示价格下降，红色表示价格上升
    - 卖出价（排序按键）：显示该商品的实时卖出价，以及该商品上一次发生交易后的价格的变动量，用绿色表示价格下降，红色表示价格上升
    - 库存（排序按键）：显示该商品此时的市集内库存和总库存量，以及该商品上一次发生交易后的库存变动量，用加减数量表示。
    - 出产家族量（排序按键）：显示该商品此时有多少家族有与此相关的产业。（如果可以还能显示所有家族产量的预估总和）
    - 族内库存（排序按键）：显示该商品在家族货仓内还有多少存量
  - 家族内已有产业所对应的商品将会在图标的前端标注出来，并且不使用排序功能的默认状态下，这些商品将会在列表上被置顶显示
  - 切换最顶部的【市场】【家族】【产业】标签后，被排序功能打乱的列表将会恢复到默认状态。
  
- **市场快捷操作**

  - 玩家可以通过点选某一商品开启二级菜单进行快捷买入和卖出操作，如图：

    ![image-20200922135248228](/Users/maojupao/Desktop/image-20200922135248228.png)

  - 二级菜单有三个选项：

    - 【派遣家族成员到市集】选择此选项后，系统内部将会发布移动到市集的派遣任务。
    - 【买入】选择买入的商品数量，系统内部会发布移动到市集进行买入操作的派遣任务，接受此任务的成员会移动到市集，按照商品数量购买进商品。当选中成员背包空间不足或者实际买入金额与预估金额差距超过10%，应弹出提示玩家。
    - 【卖出】选择卖出的商品数量，系统内部会发布移动到市集进行买入操作的派遣任务，接受此任务的成员会移动到家族货仓，按照商品数量将商品放进背包并移动到市集卖掉。当选中成员背包空间不足或者实际卖出金额与预估金额差距超过10%，应弹出提示玩家。

- **重要信息（用于显示与市场行情相关的信息）**：
  
  - 重要信息在侧边栏里以单条列表的形式展示，列表最上方的信息条为最新的事件
  
  - 每当列表顶有新的信息产生时，列表底的信息将会被上一条信息所覆盖。在**更多**里可以查看全部信息，包含被覆盖的信息。
  
  - 信息条的内容以【时间】【事件】为文字内容，不同信息类型按不同颜色或花纹的信息条作为区分。
  
  - 信息类型及通用格式：
    - <font color="goldenRod">「出产」 “X家族将即将出产【产品名】，预估产量为X~Y”</font>
    - <font color="Darkorange">「购买或贩卖」 “X家族购买了X份的【产品名】，目前【产品名】的买入价为X，卖出价为X”</font>
    - <font color="Darkorange">「购买或贩卖」 “X家族卖出了X份的【产品名】，目前【产品名】的买入价为X，卖出价为X”</font>
    - <font color="red">「战斗」 “X家族与Y家族发生冲突”</font>
    - <font color="DarkGreen">「灾害」“【灾害名】将在两小时后到来”</font>（理想情况下存在此类型，还需要和支线事件联动设计）
    
  - 点击【更多】，页面弹出二级页面
  
    <center><img src="https://s1.ax1x.com/2020/09/16/w2ATje.png" alt="w2ATje.png" style="zoom:50%;" /></center>
    
    
  



#### 2.右侧栏-家族

简介：用于实时查看家族信息，家族内成员的状态，下达快捷指令

![wHA0TP.png](https://s1.ax1x.com/2020/09/21/wHA0TP.png)

- **家族信息（用于实时显示家族内重要信息的数据。方框表示图标，名称表示实际信息，如家族长名=毛巨炮）:**
  - 家族名：家族的名称
  - 流动资金：可用于市集交易的资金总量，不包含其他商品或产业之类的价值
  - 产业规模：家族内存在的产业数量
  - 成员数量：所有家族成员的数量
  - 家族长名：家族长的名称
  - 货仓内物品总量：储存在家族货仓内的所有物品的总数
  - 领地数量：家族占领的土地数量
- **成员信息**
  - 成员信息部分由一组单选项和列表组成
  - 状态选项：用于显示单一状态下的成员列表，包含【全体成员】【处于空闲的成员】【处于忙碌的成员】【处于战斗的成员】
  - 成员列表：
    - 顶部为健康值条，在健康值的不同阶段用不同的颜色表示。（绿橘黄红）
    - 家族成员的头像立绘
    - 家族成员的名称
    - 家族成员的职责或称号（管理的产业或铁匠称号之类）
    - 家族成员的状态，目前是分成三类，空闲，忙碌，战斗。忙碌待展开，目前实例里的【正在农场工作中】与之前的设定有冲突点
    - 背包负载：用于显示该成员背包的负载情况
  - 选中成员列表中的一个成员，将会移动地图视角选中该成员，并打开该成员的操作列表
- **快捷指令**

![wbWJKI.png](https://s1.ax1x.com/2020/09/21/wbWJKI.png)

#### **3.右侧栏-产业**

简介：用于实时查看家族内所有产业的运行状况

![0910DU.png](https://s1.ax1x.com/2020/09/25/0910DU.png)

- **产业信息（用于展示家族内所有产业实时情况的产业列表）**
- 列表信息。选中列表中的单一产业后，地图的镜头会移动到相应的产业建筑上并选中
    - 产业立绘
    - 产业名称
    - 作用于该产业的BUFF和DEBUFF，显示所有效果叠加后的数值
    - 该产业产出的所有类型产品的图标，图标上显示产品的预计产量
    - 生产订单类型切换按键，用于在招募订单和指定订单中切换
    - 指定人员。用于指定订单的人员指派，无论是哪种类型的订单，该选项都会记忆上一次的指派人员，直到手动改变指派人员为止
    - 原料自动/手动补充开关。选择自动补充后，若家族货仓内产业相关的生产原料缺失且家族流动资金，接单人将会自动移动到市集购买缺失数量2倍的生产原料，在购买前会弹出对话框让玩家确认。
    - 生成新订单的按键，点击后将在下方的订单列表中生成一张选定类型的订单
    - 订单列表：
      - 接单人：如有接单人则显示姓名，如果暂无接单人则显示【暂未接单】
      - 订单时间：下单时的事件，用于订单列表的排布和在多个产业的指定订单中排列执行订单的顺序
      - 订单状态【等待接单】【已接单-准备阶段】【已接单-生产中】【订单完成】【订单取消】
      - 单日生产进度/总进度：预备修改成界面图样显示，用于展示此订单单日的生产进度和完成整个订单还需要多少天
      - 取消按键，用于取消处于【未接单】状态的订单，其他状态的订单取消暂定。
      - 订单的底色由订单类型决定



#### 4.右侧栏-指令（用于展示目前已下达所有指令的列表，以及展示各指令的优先级和类型）

![09JPGd.png](https://s1.ax1x.com/2020/09/25/09JPGd.png)

- 指令类型分为三类：
  - 招募指令：指发布未指定接单人的指令，任何人都可以接受指令
  - 指定指令：指定了接单人的指令
  - 强制指令：收到强制指令的成员需立刻停止正在做的其他事情，首先执行强制指令
- 指令列表：
  - 类型标签：在单项指令的最前方的颜色区块是用于区分不同的指令类型，指令排序在列表中的排序优先级也是按【强制】>【指定】>【招募】，同种类型下，指令时间越新的指令排得越靠前
  - 指令时间：下达指令时的游戏内日期和游戏内时间，用于排序指令在列表中的顺序
  - 指令内容：显示实际的指令内容
  - 接单人/指定人：已接单或有指定接单人显示该成员的名字，如果未被接单则显示未知
  - 指令状态：【等待接单】【已接单-准备阶段】【已接单-执行中】【订单完成】【订单取消】
  - 指令取消按键

