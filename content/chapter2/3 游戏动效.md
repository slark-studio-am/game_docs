#  3.0 游戏动效

### 3.0.1 目录-战场

- [<div>3.1.1 战场-基础动效</div>](#311)
- [<div>3.1.2 战场-音效</div>](#312)
- [<div>3.1.3 战场-浮动文字</div>](#313)
- [<div>3.1.4 战场-友方血条</div>](#314)
- [<div>3.1.5 战场-敌方血条</div>](#315)
- [<div>3.1.6 战场-敌方血条</div>](#316)
- [<div>3.1.7 战场-获得护盾的血条</div>](#317)
- [<div>3.1.8 战场-攻速具象显示</div>](#318)
- [<div>3.1.9 战场-不同攻击目标的特效</div>](#319)

### 3.0.2 目录-BUFF

- [<div>3.2.1 BUFF-获得时动效</div>](#321)
- [<div>3.2.2 BUFF-环绕效果</div>](#322)
- [<div>3.2.3 BUFF-底色变换</div>](#323)



### 3.0.3 目录-技能

- [<div>3.3.1 技能-飞行物效果</div>](#331)
- [<div>3.3.2 技能-覆盖效果</div>](#332)
- [<div>3.3.3 技能特效实现简易流程</div>](#333)



### 3.1.1 战场-基础动效<div id="311">

##### （1）画面效果

|     动作     |                           画面效果                           |
| :----------: | :----------------------------------------------------------: |
|   普通攻击   | 整张卡牌朝敌人方向移动1/5个卡牌长边的长度后，再恢复原状，整个过程0.5s |
|     受击     | 整张卡牌朝敌人反方向移动1/5个卡牌长边的长度后，根据技能特效或普攻特效在相应落点处触发特效，<br />持续0.3s，再恢复原状，整个过程0.5s |
| 发动主动技能 |       卡面上的单位图像放大后，再恢复原状，整个过程0.5s       |
|   死亡特效   | 播放死亡动画0.5s后，变成两半的卡面一边向两边移动一边淡出，持续1s |
|  复活或召唤  |                   1s内从战场的空位淡入卡牌                   |

注：以上动效中关于移动距离和时间的数值均为凭主观感觉写下，实际数值需要到开发环境中慢慢微调

**普通攻击**

![攻击形态](https://i.loli.net/2021/03/24/RgUEjxHLYtDN8an.gif)

##### 普通攻击受击

![img](https://i.loli.net/2021/03/24/bRLpUBd9Z1auq5N.gif)

##### 释放技能

![img](https://i.loli.net/2021/03/24/Dquj2aSkpKwxreH.gif)

### 3.1.2 战场-音效<div id="312">

|     动作     | 画面效果 |
| :----------: | :------: |
|   普通攻击   | 大众音效 |
| 普通攻击受击 | 大众音效 |
| 发动主动技能 | 大众音效 |
|   技能受击   | 大众音效 |

先都弄大众音效，后面看下工作量和素材，充裕的话，在每个技能特效上加字段再独立绑定技能音效

### 3.1.3 战场-浮动文字<div id="313">

初版定义，待实装之后根据效果再做位置调整

|     伤害     |                 文字效果                  |   起点   | 平移方向 | 出现到淡出时间 |
| :----------: | :---------------------------------------: | :------: | :------: | :------------: |
|   普通攻击   |               白色，勾黑边                | 卡牌中心 |   向上   |      0.5s      |
| 普通攻击暴击 | #d12929，勾黑边，文本末尾带感叹号，字号+2 | 卡牌中心 |   向上   |      0.5s      |
|   技能伤害   |          #1da3d6，勾黑边，字号+2          | 卡牌中心 |   向上   |      0.5s      |
|   生命回复   |      #7ce687，勾黑边，文本前端带加号      | 卡牌中心 |   向上   |      0.5s      |

### 3.1.4 战场-友方血条<div id="314">

![image-20210324170707840](https://i.loli.net/2021/03/24/iJ4l5h6Ss1FTvuW.png)

|             项目             |                             说明                             |
| :--------------------------: | :----------------------------------------------------------: |
|           血条颜色           |                友方所有单位的血条颜色均为绿色                |
|       被攻击时血条变化       | 在被攻击的瞬间，先根据伤害数值占最大生命值的百分比将该部分的血条颜色改为浅绿色，然后浅绿色的部分逐渐收缩，最后变为空白 |
|        回血时血条变化        | 在被治疗的瞬间，先根据治疗数值占最大生命值的百分比将该部分的血条颜色改为浅绿色，然后绿色部分逐渐占满浅绿色块 |
| 动画过程中再次被攻击或者回血 |                        增大浅绿色区域                        |



### 3.1.5 战场-敌方血条<div id="315">

![image-20210324170032714](https://i.loli.net/2021/03/24/AK37WIpeg6k1Pwm.png)

|             项目             |                             说明                             |
| :--------------------------: | :----------------------------------------------------------: |
|           血条颜色           |                敌方所有单位的血条颜色均为红色                |
|       被攻击时血条变化       | 在被攻击的瞬间，先根据伤害数值占最大生命值的百分比将该部分的血条颜色改为浅红色，然后浅红色的部分逐渐收缩，最后变为空白 |
|        回血时血条变化        | 在被治疗的瞬间，先根据治疗数值占最大生命值的百分比将该部分的血条颜色改为浅红色，然后红色部分逐渐占满浅红色块 |
| 动画过程中再次被攻击或者回血 |                        增大浅红色区域                        |



### 3.1.6 战场-敌方血条<div id="316">

![image-20210322120023820](https://i.loli.net/2021/03/22/KewIoLAHs1rUglJ.png)

|    项目    |                             说明                             |
| :--------: | :----------------------------------------------------------: |
| 法力条颜色 |                      所有法力条均为蓝色                      |
| 积攒法力条 | 被攻击或攻击时根据回复法力值占最大法力值百分比增长相应的蓝色区块 |
| 满载法力条 | 蓝条积满时整体会变成浅蓝色，并停留0.2s后，才可施放主动技能。如果0.2s后主体因特殊效果无法立刻施放主动技能，则间隔0.2s在蓝色和浅蓝色之间变换法力条的颜色 |
| 释放技能后 |             在释放完主动技能后，蓝色区块全部清空             |



### 3.1.7 战场-获得护盾的血条（敌我双方适用）<div id="317">

![image-20210324170731722](https://i.loli.net/2021/03/24/lbovxsgKhV4ELi2.png)

|     项目     |                             说明                             |
| :----------: | :----------------------------------------------------------: |
| 护盾部分颜色 |                             灰色                             |
| 护盾部分长度 |         根据获得的护盾数占最大生命值的百分比作为长度         |
|  失血时护盾  | 直接在血量的最左边添加护盾区块，血量显示的数值是（实际血量+护盾值） |
|  满血时护盾  | 从血条的最右边向左覆盖护盾区块，血量显示的数值是（最大生命值+护盾值） |



### 3.1.8 战场-攻速具象显示<div id="318">



![image-20210322143251275](https://i.loli.net/2021/03/22/5p2cQGOEi43mxBe.png)

|        项目        |                             说明                             |
| :----------------: | :----------------------------------------------------------: |
| 普通攻击倒计时起点 |                          12点钟位置                          |
|        规则        | 根据单位的攻击速度，将外圈填满，填满后即可发动一次普通攻击，并开始下一次循环 |



### 3.1.9 战场-不同攻击目标的特效<div id="319">

|    目标    | 落点位置编号 | 特效  |
| :--------: | :----------: | :---: |
|    单个    | location_03  | 特效1 |
| 多个非全部 | location_03  | 特效1 |
|    整排    | location_03  | 特效2 |
|    整列    | location_03  | 特效2 |
|  敌方全体  | location_03  | 特效3 |

注：具体效果有了相关的素材之后再确定





### 3.2.1 BUFF-获得时动效<div id="321">

- **BUFF生效时，从立绘的中部显示BUFF图标和名称，并迅速上升消失。然后根据BUFF的配置显示BUFF特效，如无配置则不显示**



### 3.2.2 BUFF-环绕效果<div id="322">

- 不同的BUFF就是改变颜色。颜色持续到BUFF时间结束

![image-20210331193707732](https://i.loli.net/2021/03/31/lNa9HQu7GC2ncF6.png)

![pic](https://i.loli.net/2021/03/31/PhScO7rdzxKGJkp.gif)

- 理想状态下，如果有技术力做出类似粒子环绕的效果，那么身上有多个BUFF时，可以叠加各个颜色的BUFF，看起来花花绿绿的，如果不行，就只能显示最新的一个BUFF的颜色。



### 3.2.3 BUFF-底色变换<div id="323">

- 闪烁变换整个立绘的底色，1秒原色，1秒新色，直到BUFF时间结束。当有多个同特效BUFF存在的情况下，显示最新获得的那个特效的颜色
- ![pic (1)](https://i.loli.net/2021/03/31/Hw1TvCjrnQqaGAf.gif)



### 3.2.4 BUFF-暂存不一定用的上<div id="324">

**特效落点的位置**

| 落点位置编号 |                           生效位置                           |
| :----------: | :----------------------------------------------------------: |
| location_01  |            贴图与原画的中心重合，并被压在原画下方            |
| location_02  | 贴图与原画顶部的中心重合，并被压在原画上方(原画纵向等分的上部中点) |
| location_03  | 贴图与原画中部的中心重合，并被压在原画上方(原画纵向等分的中部部中点) |
| location_04  | 贴图与原画底部的中心重合，并被压在原画上方(原画纵向等分的下部中点) |

![image-20210324120005529](https://i.loli.net/2021/04/07/Ou2zPcyrs6SfWQD.png)

|     开始条件     | 落点位置编号 |                          特效说明                          |           结束条件           |
| :--------------: | :----------: | :--------------------------------------------------------: | :--------------------------: |
|  发生攻速加快时  | location_01  | 将放大的原画做涂红和朦胧处理，营造围绕原画轮廓发红光的效果 | 攻速变回战斗开始前的原始攻速 |
| 发生生命值回复时 | location_04  |                     绿光加号往上飘特效                     |           持续0.5s           |
| 发生法力值回复时 | location_03  |                          蓝光贴图                          |           持续0.2s           |
|   获得debuff时   | location_04  |                          紫光贴图                          |  直到身上所有debuff时间结束  |
|  护盾值变为0时   | location_03  |                          碎盾动画                          |          动画结束后          |

注1：当有多个落点相同的特效冲突时，以触发事件的先后顺序来确定贴图的层级，越早发生的效果贴图在越底层

注2：关于BUFF和DEBUFF的我设想归纳出一些常用的BUFF，赋予特定的特效动画，比如中毒，冻结之类的，制作技能时多复用这些特效。另外的一些不重要的特定buff就不搞特效，此处待填充内容时补充



### 3.3.1 技能-飞行物效果<div id="331">

|     属性     |                          说明                           |
| :----------: | :-----------------------------------------------------: |
|     类型     |                         飞行物                          |
|   特效编号   |                          se_01                          |
|   特效模型   |                          对象                           |
| 单次飞行时间 |                            -                            |
|     朝向     |                            -                            |
|   重复次数   | 1为不重复，2为执行整个特效过程两次，3为重复三次以此类推 |
|    起始点    |                          对象                           |
|    目标点    |                    对象；可配置多个                     |
|   是否旋转   |                          false                          |
| 受击效果模型 |                          对象                           |

### 3.3.2 技能-覆盖效果<div id="332">

|       属性       |                 说明                  |
| :--------------: | :-----------------------------------: |
|       类型       |               覆盖效果                |
|     特效编号     |                 se_02                 |
|      目标点      |           对象；可配置多个            |
| 单次模型持续时间 | 数字 - 一次模型覆盖从开始到结束的时间 |
| 动画模型(或图片) |                 对象                  |
| 模型是否落点中心 |          布尔 - 选否随机落点          |
|  模型(图片)大小  |   ？直接可以调节还是要在配置里调节    |

### 3.3.3 技能特效实现简易流程

| 步骤 |                          说明                          |
| :--: | :----------------------------------------------------: |
|  1   | 发动技能的条件校验，蓝量是否充足，目标是否可被攻击等等 |
|  2   |                  播放发动技能时的特效                  |
|  3   |                   播放飞行物飞行特效                   |
|  4   |                      播放落点特效                      |
|  5   |                 逻辑生效，浮动文字跳出                 |
|  6   |                        技能结束                        |

注：发动技能的特效和落点特效的播放时间由各自动画播放时间决定，不再特效表中而外标识。特效动画播放完即淡化消失，下一个阶段从播放完立马开始，不用等到上一个动画在界面上完全看不见。