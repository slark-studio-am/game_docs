# 家族系统

### 1. 家族属性

| 属性     | 说明 |
| -------- | ---- |
| 名称     |      |
| 旗帜     |      |
| 所属队伍 |      |



### 2. 队伍属性

| 属性     | 说明                             |
| -------- | -------------------------------- |
| 队伍关系 | 与每个势力关系独立（中立、敌对） |
| 成员势力 |                                  |



### 3. 初始规则

- 家族默认队伍为自己，中立被动。
- A所在队伍与B所在队伍处于非敌对关系，A攻击B，则双方所在队伍变为敌对关系。
- 同一个队伍内的家族为同盟关系。
- 家族可以自建队伍或者加入其他队伍。
- 队伍之间没有同盟关系，只有中立和敌对关系。



### 4. 预置势力

- 中立被动

- 中立敌对



### 5. 应用场景

- 伤害判定
- 人物脚本判断



### 6. 家族经济实力分类方法

该方法用于区分不同家族之间的经济实力，并进行评级，便于家族长或家族成员按照家族的评级情况进行对应级别的生产生活

计算周期：从演化结束后的第七个游戏日开始，由系统按照以下公式进行即时计算，后续也是按每7个游戏日计算一次评级。评级结果仅是被其他系统需要时调用，不会显示在游戏界面当中

```
n = 产量中值(浮动产量的中间值) * 此时该产品的卖价 - 单次生产成本

d = 单人单日所需最低粮食数量

m = 产品生产周期 * 家族总人口 * d * 此时粮食的买入价格
```

假设某一个家族有两项产业，且A产业的生产周期 >= B产业的生产周期，则：

- 每当 (nA+nB)/mA >= 3时，表示该家族此时的经济实力评级为【富裕】
- 每当 3 > (nA+nB)/mA >= 2时，表示该家族此时的经济实力评级为【小康】
- 当2 > (nA+nB)/mA >= 1时，表示该家族此时的经济实力评级为【温饱】
- 当(nA+nB)/mA < 1时，表示该家族此时的经济实力评级为【贫困】

