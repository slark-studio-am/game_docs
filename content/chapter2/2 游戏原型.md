# 2.0 游戏原型

### 目录

- [<div>2.0.1 原型分类</div>](#201)
- [<div>2.0.2 原型画面结构布局</div>](#202)
- [<div>2.0.3 战场内单位卡牌布局</div>](#203)
- [<div>2.0.4 战场内单位卡牌布局</div>](#204)
- [<div>2.0.5 单张卡牌未获取到某些字段的值</div>](#205)
- [<div>2.0.6 单位格子在各类场景下的交互</div>](#206)
- [<div>2.0.7 场景布局空缺情况</div>](#207)
- [<div>2.0.8 场外神器卡牌布局</div>](#208)

- ### 2.0.1 原型分类<div id="201">

| 原型名称 | 原型编号 |              原型分型              |
| :------: | :------: | :--------------------------------: |
|   单位   |   unit   | 【equipment】【attendant】【hero】 |
|   事件   |  event   |                 无                 |
|   技能   |  skills  |                 无                 |
|   神器   | artifact |                 无                 |
|   BUFF   |   buff   |       【positive】【debuff】       |

- ### 2.0.2 单位类型表<div id="202">

|      字段名      |    字段    |           值说明           |  值示例  |
| :--------------: | :--------: | :------------------------: | :------: |
|     单位类型     | unit_type  |             -              |   随从   |
|     单位种族     | unit_race  |       随从单位的种族       |   恶魔   |
|     类型标志     | unit_sign  | 该单位类型的所有卡牌的标志 | 恶魔标志 |
|   类型卡牌底色   | card_color | 该单位类型的所有卡牌的底色 | #006600  |
| 是否显示生命值条 | display_hp |  是否在界面中显示生命值条  |   true   |

- ### 2.0.3 战场内单位卡牌布局<div id="203">

![image-20210324210350109](https://i.loli.net/2021/03/24/9cOG1Mrk7lJXmhV.png)

|  子段名  |      字段       |                            值说明                            |
| :------: | :-------------: | :----------------------------------------------------------: |
| 单位名称 |    unit_name    |                静态 - 显示单位的unit_name字段                |
| 类型标志 |    unit_type    | 静态 - 随从的话根据格子的种族显示；英雄显示唯一标志；武器显示唯一标志 |
|   原画   |   unit_image    |            静态 - 显示单位的unit_image字段的内容             |
|   物攻   | physical_attack |      动态 - 根据单位的物攻数值和场上的数值加成动态显示       |
|  生命值  |       HP        |      动态 - 根据单位的生命数值和场上的数值加成动态显示       |
|  法力值  |       MP        |           动态 - 根据单位的受击和攻击情况动态显示            |
| 卡牌颜色 |   card_color    |                 随从、英雄、武器各有一种底色                 |

- 单位 - 随从

|      字段名      |                  值示例                  |
| :--------------: | :--------------------------------------: |
|     单位类型     |                   随从                   |
|     单位种族     |         恶魔；魔法师；元素；兽人         |
|     类型标志     | 恶魔标志；魔法师标志；元素标志；兽人标志 |
|   类型卡牌底色   |                 #006600                  |
| 是否显示生命值条 |                   true                   |

- 单位 - 英雄

|      字段名      |  值示例  |
| :--------------: | :------: |
|     单位类型     |   英雄   |
|     单位种族     |    无    |
|     类型标志     | 英雄标志 |
|   类型卡牌底色   | #339999  |
| 是否显示生命值条 |   true   |

- 单位 - 武器

|      字段名      |  值示例  |
| :--------------: | :------: |
|     单位类型     |   武器   |
|     单位种族     |    无    |
|     类型标志     | 武器标志 |
|   类型卡牌底色   | #996600  |
| 是否显示生命值条 |  false   |

- 单位卡牌详情<div id="kpxq">

![image-20210406155953860](https://i.loli.net/2021/04/07/YI1dMq2zlytsKwD.jpg)

### 2.0.4 战场内单位卡牌布局<div id="204">

![image-20210407165204224](https://tva1.sinaimg.cn/large/008eGmZEly1gpba431leuj30v50fwn1m.jpg)

|  子段名  |      字段       |                            值说明                            |
| :------: | :-------------: | :----------------------------------------------------------: |
| 单位名称 |    unit_name    |                静态 - 显示单位的unit_name字段                |
| 类型标志 |    unit_type    | 静态 - 随从的话根据格子的种族显示；英雄显示唯一标志；武器显示唯一标志 |
|   原画   |   unit_image    |            静态 - 显示单位的unit_image字段的内容             |
|   物攻   | physical_attack |      动态 - 根据单位的物攻数值和场上的数值加成动态显示       |
|  生命值  |       HP        |      动态 - 根据单位的生命数值和场上的数值加成动态显示       |
| 稀有标志 |    unit_rare    |     静态 - 根据单位的unit_rare字段的稀有度显示对应的图标     |
| 卡牌颜色 |   card_color    |                 随从、英雄、武器各有一种底色                 |

- ### 2.0.5 单张卡牌未获取到某些字段的值<div id="205">

![image-20210402110514612](https://i.loli.net/2021/04/02/w6QTLNYh3EDd4rX.png)

|    字段    |        值缺失         |           字段缺失           |
| :--------: | :-------------------: | :--------------------------: |
|  单位名称  |        显示 空        |           显示 空            |
|  单位类型  |        显示 空        |           显示 空            |
|    立绘    |     显示 缺省图片     |        显示 缺省图片         |
| 物理攻击力 |      显示 数值0       |          显示 数值0          |
|   生命值   | 显示完整UI，数值显示0 | 血条颜色为深灰色，不显示数值 |
|    蓝条    | 显示完整UI，数值显示0 |    显示完整UI，数值显示0     |

### 2.0.6 单位格子在各类场景下的交互<div id="206">

归纳描述不同场景下的格子的交互方式，无法区分交互效果是做在场景内部还是格子上，由程序自由定夺。

|     字段名     |      字段       |              值说明              |        触发条件        |
| :------------: | :-------------: | :------------------------------: | :--------------------: |
|    点按格子    |    press_box    |    点按格子内的卡牌产生的效果    |    down+up 1000ms内    |
|    长按格子    |    hold_box     |    长按格子内的卡牌产生的效果    |  down 持续1000ms以上   |
| 长按并拖动格子 |    move_box     | 长按并拖动格子内的卡牌产生的效果 |       down+move        |
|    选中效果    | selected_effect | 点按中的选中效果所呈现的界面样式 | 只需要有触摸过相关格子 |

##### （1）适用场景：战场、背包中的查看单位卡牌、首页查看图鉴

![image-20210407155035717](https://tva1.sinaimg.cn/large/008eGmZEly1gpb8c5y9n8j31780t446d.jpg)

|    交互方式    |             触发效果             |
| :------------: | :------------------------------: |
|    点按格子    | 弹出[<div>卡牌详情</div>](#kpxq) |
|    长按格子    | 弹出[<div>卡牌详情</div>](#kpxq) |
| 长按并拖动格子 |             无法触发             |



##### （2）适用场景：初始英雄及单位、升级卡牌事件

![image-20210407161306163](https://tva1.sinaimg.cn/large/008eGmZEly1gpb8zlyf3hj30r90ko413.jpg)

|    交互方式    |             效果描述             |
| :------------: | :------------------------------: |
|    点按格子    |           触发选中效果           |
|    长按格子    | 弹出[<div>卡牌详情</div>](#kpxq) |
| 长按并拖动格子 |             无法触发             |

附注1：选中的效果暂时使用外框变色，或者程序方面有其他简单的显示方式先使用，后续调优

附注2：挖宝事件虽然不属于单位格子的讨论范围，但选中效果与此处一致，只不过挖宝事件的格子读取的不是单位卡牌信息，而是事件属性里的内容



##### （3）适用场景：背包中的修改战场配置

![image-20210407164134013](https://tva1.sinaimg.cn/large/008eGmZEly1gpb9t5o580j315q0lv76h.jpg)

| 战场区交互方式 |                      战场区效果描述                      |
| :------------: | :------------------------------------------------------: |
|    点按格子    | 点按非英雄单位，触发提示询问是否放逐；点按英雄单位无触发 |
|    长按格子    |             弹出[<div>卡牌详情</div>](#kpxq)             |
| 长按并拖动格子 |                         交换位置                         |

| 手牌区交互方式 |                        手牌区效果描述                        |
| :------------: | :----------------------------------------------------------: |
|    点按格子    | 点按手牌区内的单位，在战场区未满的情况下触发提示询问是否加入战场；<br />点按手牌区内的单位，战场区已满的情况触发提示战场已满 |
|    长按格子    |               弹出[<div>卡牌详情</div>](#kpxq)               |
| 长按并拖动格子 |                            无效果                            |



- ### 2.0.7 场景布局空缺情况<div id="207">

![image-20210402141213567](https://i.loli.net/2021/04/02/8EDR6FLiTISQGbJ.png)

- ### 2.0.8 场外神器卡牌布局<div id="208">

![image-20210319163248739](https://i.loli.net/2021/03/19/MHksmWgrcSAiv4o.png)

|  子段名  |      字段       |                          值说明                          |
| :------: | :-------------: | :------------------------------------------------------: |
| 神器名称 |  artifact_name  |            静态 - 显示单位的artifact_name字段            |
| 类型标志 |  artifact_type  |                 静态 - 神器显示唯一标志                  |
|   原画   | artifact_image  |        静态 - 显示单位的artifact_image字段的内容         |
| 稀有标志 |  artifact_rare  | 静态 - 根据单位的artifact_rare字段的稀有度显示对应的图标 |
| 神器效果 | artifact_effect |        静态 - 显示单位的artifact_effect字段的内容        |
| 卡牌颜色 |   card_color    |                         #FFCC66                          |