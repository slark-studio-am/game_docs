# 1.5 游戏表格

### 1.某些设定

- 媒体素材编号命名 = [素材类型] - [素材代表的内部代号] - [独立名称或编号] - [有需要再加编号]
  - 比如事件卡图标编号 icon_map_battle
  - 随从卡牌立绘 img_hero_00？

### 2.场景 - 路线选择（内部代号map）

- #### 关卡表（table_map_levels）

|     关卡名称     |   事件池    |
| :--------------: | :---------: |
| 被污染的精灵之森 | pool_map_01 |

1. 事件池：按照关卡难度的不同，实例化的事件卡牌组合的池子。一个事件池内有9张牌。
2. **事件池的抽取遵循以下原则**

（1）确定【战斗事件】的次数，从1和2中随机

（2）确定【回复主角生命值事件】的次数，从0和1中随机

（3）确定【卡牌商店】的次数，从0和1中随机

（4）确定【恶魔献祭事件】的次数。从0和1中随机

5、6两个步骤需要再做一次判定，看谁先进行随机次数的判定

（5）确定【获得单随从，获得单武器，随从武器二选一】的次数，从0到7中随机，再把次数在3个子事件中随机分配

（6）确定【 强化自身属性数值】的次数，从0到7中随机。

（7）确定【卡牌定向升级机会】的次数，从0到7中随机。**第一大关不参与此事件**。

（8）如果以上7个流程进行完一遍后，仍有空白事件卡，则从第（2）步开始重新判定，如果已经是次数的极大值则顺延到下一个步骤。比如如果步骤2在第一次流程中已经随机到次数1，则第二次流程时不参与判定，顺延到第（3）步开始

- #### 事件卡表（table_map_cards）

| 事件卡名称 |   事件卡图标编号    |  事件详情UI编号  |
| :--------: | :-----------------: | :--------------: |
|    战斗    |   icon_map_battle   | ui_map_battle_01 |
|    强化    | icon_map_strengthen |        -         |
|    招募    |  icon_map_recruit   |        -         |
|    锻造    |  icon_map_forging   |                  |
|    回复    |  icon_map_restores  |        -         |
|    商店    |    icon_map_shop    |        -         |
|    献祭    | icon_map_sacrifice  |        -         |
|    升级    |   icon_map_update   |        -         |

- #### 事件详情表（table_map_details）

|   事件详情编号   | 标题 | 标题按键 | 标题按键调用 | 卡牌数量 |    卡牌组编号     |
| :--------------: | :--: | :------: | :----------: | :------: | :---------------: |
| ui_map_battle_01 |  -   | 查看阵容 |   阵容列表   |    2     | details_battle_01 |

|           卡牌说明            |         选择按键         | 选择按键调用 |
| :---------------------------: | :----------------------: | :----------: |
| ["", "战斗成功奖励+难度说明"] | ["直接战斗", “进阶战斗”] |      -       |

1. 标题：普通的标题直接填值。战斗事件的标题希望可以是那只怪的名字，如果不行就还是直接填值吧

2. 标题按键：无值时不显示。有值的时候可以点击唤起页面。

3. 卡牌数量：当张数超过3时，多余的卡牌会令其一行表示，此时多余的卡牌向左对齐。当值为1和为2时，卡牌会居中显示。

4. 卡牌组编号：按给定的规则从指定的卡牌来源抽取除对应卡牌数量的卡牌，填充进UI中

5. 卡牌说明：数组形式展示，依照卡牌数量依次载入。当数组内只有一个值的时候，所有的说明都为这个值。

   卡牌说明需要额外实现两个效果。【1】可以从某一个说明的池子中读取一条，比如在献祭事件中，卡牌说明的区域就是被削弱的属性

   【2】可以显示被选中卡牌的某些属性，比如在升级事件中，卡牌说明区域要显示选中卡牌的定向升级效果

6. 选择按键：数组形式展示，依照卡牌数量依次载入。当数组内只有一个值的时候，所有按键上的说明都为这个值。

7. 选择按键：数组形式展示，依照卡牌数量依次载入。

  **通用UI模板**

  ![模板](https://i.loli.net/2021/02/19/fyc5koWM6rw8lSK.png)

- #### 详情卡牌组表（table_map_details_cards）

|    卡牌组编号     | 卡牌来源(允许多个，数组展示) |   卡牌等级区间    |
| :---------------: | :--------------------------: | :---------------: |
| details_battle_01 |        cards_monsters        | ["low", "middle"] |

1. 卡牌来源：【武器牌】【怪物牌】【随从牌】【属性强化牌】【卡牌选择器 - 升级卡牌时用】
2. 卡牌等级区间：当值为单个时，卡牌抽取时只会在该等级下随机抽取；当值为多个时，卡牌会在多个等级下随机抽取



### 3.基础 - 随从牌（内部代号 - hero）

- #### 随从表

|      编号      |   名称   | 等级 | 种族 | 基础生命值 | 基础攻击力 | 技能编号  |
| :------------: | :------: | :--: | :--: | :--------: | :--------: | :-------: |
| cards_hero_001 | 死灵术士 | 低阶 | 亡灵 | 1000/1000  |     50     | skill_001 |

| 基础攻击速度 | 攻击目标 | 基础能量值 | 基础能量增速 |     立绘     |
| :----------: | :------: | :--------: | :----------: | :----------: |
|      5s      |    -     |   0/100    |     10/s     | img_hero_001 |

|                        介绍                        |      定向升级       |
| :------------------------------------------------: | :-----------------: |
| 传说中掌握死亡魔法的施法者，拥有复活其他单位的能力 | 基础能量增速变为5/s |





