# 人物行为

- 本章节阐述的人物行为挂载于游戏内人物AI之上



#### **1.家族长行为模板【作用对象：家族长】**

【**1.发展方向判定**】

*在家族发展过程中，由于初始的产业类型系随机选择，可能发生家族产业发展无法承担家族支出的情况，故有此行为用于家族长判断是否转型产业或升级产业*

```
n = 产量中值(浮动产量的中间值) * 此时该产品的卖价 - 生产成本

d = 单人单日所需最低粮食数量

m = 产品生产周期 * 家族总人口 * d * 此时粮食的买入价格
```

假设某一个家族有两项产业，且A产业的生产周期 >= B产业的生产周期，则：

- 每当 (nA+nB)/mA>=3时，说明该家族可以前往市政中心招募新成员开设新产业
  - 只能由家族长到市政中心进行招募，招募无费用，AI不挑选招募成员，而是随机选择
  - 新产业优先选择【可建筑列表】上的还尚未有人进行生产的产业；次要选择最高级别产业，且优先选择上游是家族已有低级产业的新产业；最后选择与家族其他产业无关的高级产业
- 当2> (nA+nB)/mA>=1时，说明该家族目前无需产业转型
- 当(nA+nB)/mA<1时，说明该家族目前需要进行改革，产业将免费转型。如果家族剩余现金流无法负担转型后的第一笔生产成本，市镇中心会先垫付。
  - 转型的产业将从目前可建造的产业中随机挑选
  - 转型成功后，该家族之后发生的每笔卖单交易，市场都会抽走交易额的1%作为还款，直到抽走的还款金额等于或大于垫付金额。



【**2.资源贩卖和购买**】- 【此行为有可能会被高级行为（资源调配）替换】

- 每当家族产业有产出时，家族长会负责将存放在货仓外售区的**所有**产品运往市场进行贩卖
- 购买生产所需要的原材料或增产产品并存放于家族货仓的内销区



【**3.调配人员**】

- 根据家族成员的特性分配道不同的产业



#### 2.高级购买行为模板【作用对象：全体AI】

购买粮食以外的产品（等待补充）

#### 3.资源调配模板【作用对象：家族长】

- 如果家族产业内有生产玉米、大头菜、鸡肉、牛肉，将会截留部分产品放入内销区，作为内部日常消耗而不对外购买

#### 4.常规人物行为【作用对象：全体AI】

- 当人物处于饥饿状态时，开始寻找食物准备进食，优先从家族货仓的内销区获取，如果内销区没有则行为人前往市集进行购买
- 
