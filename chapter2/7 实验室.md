# 7 实验室

本测试实验室的宗旨是在调整整个船的航向时，先派出试探性的小舢板查探暗礁。

### 7.0 目录

- [<div>7.1 关卡配置</div>](#71)
- [<div>7.1.1 光明教圣所（补血）</div>](#711)
- [<div>7.1.2 魔法工会办事处（新技能）</div>](#712)
- [<div>7.1.3 地精工程院（洗练装备）</div>](#713)
- [<div>7.1.4 地下黑市（商店）</div>](#714)
- [<div>7.1.5 遭遇战（战斗&进阶战斗）</div>](#715)
- [<div>7.1.6 BOSS战（战斗&进阶战斗）</div>](#716)
- [<div>7.1.7 迷雾森林（问号房）</div>](#717)
- [<div>7.2 装备表</div>](#72)
- [<div>7.3 属性表</div>](#73)
- [<div>7.4 战斗挑战效果表</div>](#74)

### 7.1 关卡配置<div id='71'>

![image-20211105153841369](https://i.loli.net/2021/11/05/eDu9mq6Ub4zWvcZ.png)

- #### 单关房间数量（45）

|                   房间名                    | 房间数量 |
| :-----------------------------------------: | :------: |
|    [<div>光明教圣所（补血）</div>](#711)    |    3     |
| [<div>魔法工会办事处（新技能）</div>](#712) |    8     |
|  [<div>地精工程院（洗练装备）</div>](#713)  |    8     |
|     [<div>地下黑市（商店）</div>](#714)     |    3     |
|    [<div>迷雾森林（问号房）</div>](#717)    |    8     |
|      [<div>遭遇战（战斗）</div>](#715)      |    15    |
|      [<div>BOSS战（战斗）</div>](#716)      |    2     |

- #### 关卡配置

|        字段名        |           字段            |      值       |
| :------------------: | :-----------------------: | :-----------: |
|       关卡编号       |         stage_id          |   stage_01    |
|     关卡传入等级     |        stage_level        |       0       |
| 单关卡战斗场景背景图 |       stage_bg_img        |       -       |
|       关卡标题       |        stage_title        |   潜海之渊    |
|    普通BOSS房编号    |    normal_Boss_room_id    | 实例化room_07 |
|    精英BOSS房编号    |    elite_Boss_room_id     | 实例化room_08 |
|     普通敌人编号     |      enemy_normal_id      | 实例化room_05 |
|     普通敌人数量     |    enemy_normal_count     |      10       |
|     精英敌人编号     |      enemy_elite_id       | 实例化room_06 |
|     精英敌人数量     |     enemy_elite_count     |       5       |
| 特殊房间编号(可add)  |       special_room        | 实例化room_01 |
| 特殊房间数量(可add)  |    special_room_count     |       3       |
|    地图横向房间数    | map_horizontal_room_count |       3       |
|    地图分层房间数    |   map_floor_room_count    |       3       |

- 部分字段解释

  - **关卡传入等级：**某些房间需要根据当前关卡数动态调整房间内的参数，所以需要传入一个等级，等级从0开始，第一关

  - **地图横向房间数，地图分层房间数:**生成房间时，按照去除BOSS房后总共45个房间，以【**地图横向房间数**】的数量，将所有房间预先规整成一个3×15的矩阵，再按照【**地图分层房间数**】在纵向上，以3个房间为一个单位，将15分成5层，最后展示到界面上的就是5层，每层里面9个房间



- #### 7.1.1 光明教圣所（补血）<div id='711'>

|       字段名       |          字段           |                        值                         |
| :----------------: | :---------------------: | :-----------------------------------------------: |
|      房间编号      |         room_id         |                      room_01                      |
|       房间名       |        room_name        |                    光明教圣所                     |
|      房间图标      |        room_icon        |                         -                         |
|     表房间说明     |  room_out_explanation   | 美丽的修女姐姐会抚慰受伤的肉体和召唤阵亡的灵魂哦~ |
|     里房间说明     | room_inside_explanation |                        无                         |
| 生命最低英雄回复量 |     lowest_hero_hp      |                        0.3                        |
|   所有英雄回复量   |       all_hero_hp       |                        0.2                        |
|   复活英雄回复量   |  resurrection_hero_hp   |                        0.1                        |

![image-20211105170937900](https://i.loli.net/2021/11/05/HjUf3cAgx7GPLiO.png)



- #### 7.1.2 魔法工会办事处（新技能）<div id='712'>

|      字段名      |          字段           |                              值                              |
| :--------------: | :---------------------: | :----------------------------------------------------------: |
|     房间编号     |         room_id         |                           room_02                            |
|      房间名      |        room_name        |                        魔法工会办事处                        |
|     房间图标     |        room_icon        |                              -                               |
|    表房间说明    |  room_out_explanation   |                “获取技能，升级技能，我们都能”                |
|    里房间说明    | room_inside_explanation | 从3个技能中选择一个，装备或替换到已有的技能栏中，随机到与已有技能相同的技能可以提升等级 |
|  单次刷新金币数  |  single_refresh_spend   |                              1                               |
| 战士可选技能列表 |   warrior_skills_list   |                              -                               |
| 牧师可选技能列表 |   priest_skills_list    |                              -                               |
| 法师可选技能列表 |    mage_skills_list     |                              -                               |

|               触发情景               |         提示内容         |
| :----------------------------------: | :----------------------: |
|         试图升级已满级的技能         | ***已达到满级，无法升级  |
|            刷新时金币不够            | 金币不足，请努力打怪赚钱 |
|      点击确定，升级了某一个技能      |      技能升级成功！      |
|    点击确定，替换了某一个已有技能    |      技能替换成功！      |
| 点击确定，在空位置上装备了一个新技能 |      学会了新技能！      |

![image-20211108155436883](https://i.loli.net/2021/11/08/GVQJmFYcSWw7RZP.png)



- #### 7.1.3 地精工程院（洗练装备）<div id='713'>

|     字段名     |          字段           |                              值                              |
| :------------: | :---------------------: | :----------------------------------------------------------: |
|    房间编号    |         room_id         |                           room_03                            |
|     房间名     |        room_name        |                          地精工程院                          |
|    房间图标    |        room_icon        |                              -                               |
|   表房间说明   |  room_out_explanation   | 哦！来自伟大地精的划时代改造技术！只需要您付出一点小小的金币 |
|   里房间说明   | room_inside_explanation | 切换到想要洗练的装备，并选择固定或不固定单条属性，点击刷新键刷新其他属性 |
| 单次刷新金币数 |  single_refresh_spend   |                              1                               |
| 首次刷新金币数 |   first_refresh_spend   |                              0                               |

|    触发场景    |         提示内容         |
| :------------: | :----------------------: |
| 刷新时金币不够 | 金币不足，请努力打怪赚钱 |
|    点击确定    |      装备洗练成功！      |
**注：关于如何进行刷新的内容已在[<div>属性表解释</div>](#721)中给出**

![image-20211108161924978](https://i.loli.net/2021/11/08/7y6CqSMQpUrDX3H.png)



- #### 7.1.4 地下黑市（商店）<div id='714'>

|                 字段名                 |            字段            |                     值                     |
| :------------------------------------: | :------------------------: | :----------------------------------------: |
|                房间编号                |          room_id           |                  room_04                   |
|                 房间名                 |         room_name          |                  地下黑市                  |
|                房间图标                |         room_icon          |                     -                      |
|               表房间说明               |    room_out_explanation    | 喂喂喂，私下贩卖装备可是犯罪行为，不要声张 |
|               里房间说明               |  room_inside_explanation   |                     空                     |
|             单次刷新金币数             |    single_refresh_spend    |                     1                      |
|              单页武器数量              |         arms_count         |                     1                      |
|              单页防具数量              |        armor_count         |                     3                      |
|          普通品质出现基准概率          |     normal_probability     |                    0.7                     |
|          史诗品质出现基准概率          |      epic_probability      |                    0.25                    |
|          传奇品质出现基准概率          |     legend_probability     |                    0.05                    |
| 普通品质随等级衰减的基准(传入关卡等级) | normal_reduce_probability  |                    0.1                     |
| 史诗品质随等级提升的基准(传入关卡等级) |  epic_upgrade_probability  |                    0.07                    |
| 传奇品质随等级提升的基准(传入关卡等级) | legend_upgrade_probability |                    0.03                    |

|      触发场景      |         提示内容         |
| :----------------: | :----------------------: |
|   刷新时金币不够   | 金币不足，请努力打怪赚钱 |
| 确认购买时金币不足 | 金币不足，请努力打怪赚钱 |

**注：关于装备表格的内容已在[<div>7.3 装备表</div>](#72)中给出**

![image-20211105174004654](https://i.loli.net/2021/11/05/8FkqdbY69wPcZsy.png)



- #### 7.1.5 遭遇战（普通战斗）<div id='715'>

|      字段名       |          字段           |               值               |
| :---------------: | :---------------------: | :----------------------------: |
|     房间编号      |         room_id         |            room_05             |
|      房间名       |        room_name        |             遭遇战             |
|     房间图标      |        room_icon        |               -                |
|    表房间说明     |  room_out_explanation   | 你遭受到了不明怪物的武装突袭！ |
|    里房间说明     | room_inside_explanation |               空               |
| 等级0敌方单位列表 |   level_0_enemy_list    |               -                |
| 等级1敌方单位列表 |   level_1_enemy_list    |               -                |
| 等级2敌方单位列表 |   level_2_enemy_list    |               -                |
|     原始奖励      |     original_award      |               -                |

![image-20211108141029041](https://i.loli.net/2021/11/08/DEIp9RlaSeGzMfq.png)



- #### 遭遇战（精英战斗）

|      字段名       |          字段           |               值               |
| :---------------: | :---------------------: | :----------------------------: |
|     房间编号      |         room_id         |            room_06             |
|      房间名       |        room_name        |             遭遇战             |
|     房间图标      |        room_icon        |               -                |
|    表房间说明     |  room_out_explanation   | 你遭受到了不明怪物的武装突袭！ |
|    里房间说明     | room_inside_explanation |               空               |
| 等级0敌方单位列表 |   level_0_enemy_list    |               -                |
| 等级1敌方单位列表 |   level_1_enemy_list    |               -                |
| 等级2敌方单位列表 |   level_2_enemy_list    |               -                |
|     原始奖励      |     original_award      |               -                |
|   额外挑战列表    |  additional_challenge   |               -                |
|  额外奖励(可add)  |    additional_award     |               -                |



- #### 7.1.6 BOSS战（普通战斗）<div id='716'>

|      字段名       |          字段           |                 值                 |
| :---------------: | :---------------------: | :--------------------------------: |
|     房间编号      |         room_id         |              room_07               |
|      房间名       |        room_name        |               BOSS战               |
|     房间图标      |        room_icon        |                 -                  |
|    表房间说明     |  room_out_explanation   | 深渊的魔王正在他的领域里等着你到来 |
|    里房间说明     | room_inside_explanation |                 空                 |
| 等级0敌方单位列表 |   level_0_enemy_list    |                 -                  |
| 等级1敌方单位列表 |   level_1_enemy_list    |                 -                  |
| 等级2敌方单位列表 |   level_2_enemy_list    |                 -                  |
|     原始奖励      |     original_award      |                 -                  |



- #### BOSS战（精英战斗）

|      字段名       |          字段           |                 值                 |
| :---------------: | :---------------------: | :--------------------------------: |
|     房间编号      |         room_id         |              room_08               |
|      房间名       |        room_name        |               BOSS战               |
|     房间图标      |        room_icon        |                 -                  |
|    表房间说明     |  room_out_explanation   | 深渊的魔王正在他的领域里等着你到来 |
|    里房间说明     | room_inside_explanation |                 空                 |
| 等级0敌方单位列表 |   level_0_enemy_list    |                 -                  |
| 等级1敌方单位列表 |   level_1_enemy_list    |                 -                  |
| 等级2敌方单位列表 |   level_2_enemy_list    |                 -                  |
|     原始奖励      |     original_award      |                 -                  |
|   额外挑战列表    |  additional_challenge   |                 -                  |
|  额外奖励(可add)  |    additional_award     |                 -                  |



- #### 7.1.7 迷雾森林（问号房）<div id='717'>

|      字段名      |          字段           |               值                |
| :--------------: | :---------------------: | :-----------------------------: |
|     房间编号     |         room_id         |             room_09             |
|      房间名      |        room_name        |            迷雾森林             |
|     房间图标     |        room_icon        |                -                |
|    表房间说明    |  room_out_explanation   |  这片森林的迷雾后会有什么呢？   |
|    里房间说明    | room_inside_explanation |               空                |
| 随机房间编号列表 |   random_room_id_list   | room_01,room_02,room_03,room_04 |



### 7.2 装备表<div id='72'>

|    字段名    |         字段          |                            示例值                            |
| :----------: | :-------------------: | :----------------------------------------------------------: |
|   装备编号   |        arms_id        |                           arms_001                           |
|   装备类型   |       arms_type       |                     【armor】【weapon】                      |
|   装备名称   |       arms_name       |                           教团长剑                           |
|   装备等级   |      arms_level       |                 【normal】【epic】【legend】                 |
|   装备图标   |       arms_icon       |                              -                               |
|   装备说明   |   arms_explanation    | 光明教骑士团东征时所使用的制式武器，虽然已埋在地下百年，却依然锋芒毕露 |
|   装备价值   |      arms_price       |                       【1】【2】【3】                        |
|  固定属性id  |  fixed_attributes_id  |                   attr_04力量，attr_05魔力                   |
|  随机属性id  | random_attributes_id  |      attr_01生命，attr_02速度，attr_03闪避，attr_06吸血      |
| 附加技能列表 | additional_skill_list |                              -                               |

- ##### 部分字段解释<div id='721'>

  - **装备类型：**装备一共有2种类型，武器带有主动技能，防具不带主动技能

  - **装备等级：**装备一共有3种等级，普通级带1个属性，史诗级带2个属性，传说级带3个属性，且属性的数值范围也与装备等级挂钩。

  - **固定属性id**：装备生成时，将会从本字段填写的多个属性中选择1个。该属性在装备洗练时不会被替换，只会在设定的范围内变动数值。该字段可以为空
  - **随机属性id**：装备生成时，将会从本字段填写的多个属性中选择N个，其中N根据装备等级和是否有固定属性智能判断。随机属性在装备洗练时将会被允许重复的替换成其他属性，连同原来的数值也跟着变动。该字段可以为空
  - **附加技能：**当装备类型为武器时，将从列表中随机抽取一个作为附加的被动技能



### 7.3 属性表<div id='73'>

|    属性id     |    属性名     | 普通品质百分比区间  | 史诗品质百分比区间 | 传说品质百分比区间  |
| :-----------: | :-----------: | :-----------------: | :----------------: | :-----------------: |
| attributes_id | attributes_id | normal_per_Interval | epic_per_Interval  | legend_per_Interval |
|    attr_01    |     生命      |     [10%，15%]      |     [15%，30%]     |     [30%，50%]      |
|    attr_02    |     速度      |     [10%，15%]      |     [15%，30%]     |     [30%，50%]      |
|    attr_03    |     闪避      |          -          |         -          |          -          |
|    attr_04    |     力量      |     [10%，15%]      |     [15%，30%]     |     [30%，50%]      |
|    attr_05    |     魔力      |     [10%，15%]      |     [15%，30%]     |     [30%，50%]      |
|    attr_06    |     吸血      |          -          |         -          |          -          |
|    attr_07    |     暴击      |          -          |         -          |          -          |
|    attr_08    |  初始技能点   |          -          |         -          |          -          |
|    attr_09    |  增长技能点   |          -          |         -          |          -          |
|    attr_10    |   物理抗性    |          -          |         -          |          -          |
|    attr_11    |   魔法抗性    |          -          |         -          |          -          |

|    属性id     |    属性名     | 普通品质固定数值区间  | 史诗品质固定数值区间 | 传说品质固定数值区间  |
| :-----------: | :-----------: | :-------------------: | :------------------: | :-------------------: |
| attributes_id | attributes_id | normal_value_Interval | epic_value_Interval  | legend_value_Interval |
|    attr_01    |     生命      |       [20，50]        |      [50，100]       |      [100，150]       |
|    attr_02    |     速度      |      [10%，15%]       |      [15%，30%]      |      [30%，50%]       |
|    attr_03    |     闪避      |           -           |          -           |           -           |
|    attr_04    |     力量      |        [5，10]        |       [15，30]       |       [30，50]        |
|    attr_05    |     魔力      |        [5，10]        |       [15，30]       |       [30，50]        |
|    attr_06    |     吸血      |           -           |          -           |           -           |
|    attr_07    |     暴击      |           -           |          -           |           -           |
|    attr_08    |  初始技能点   |           -           |          -           |           -           |
|    attr_09    |  增长技能点   |           -           |          -           |           -           |
|    attr_10    |   物理抗性    |           -           |          -           |           -           |
|    attr_11    |   魔法抗性    |           -           |          -           |           -           |

- 部分字段解释
  - **普通品质百分比区间，普通品质固定数值区间：**当一件装备需要生成属性时，有50%的几率生成百分比或固定数值，然后根据生成装备的等级再去对应等级的数值区间中随机数值



### 7.4 战斗挑战效果表<div id='74'>

|  字段名  |         字段          |                 示例值                  |
| :------: | :-------------------: | :-------------------------------------: |
|  效果id  |     challenge_id      |              challenge_01               |
|  效果名  |    challenge_name     |                  冷静                   |
| 效果介绍 | challenge_explanation | 战斗开始时，己方所有单位的初始技能点为0 |
| 效果等级 |    challenge_level    |         【normal】【advanced】          |

